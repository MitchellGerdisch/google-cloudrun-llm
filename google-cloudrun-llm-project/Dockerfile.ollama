FROM ollama/ollama:latest

# Install curl for downloading models
RUN apt-get update && apt-get install -y curl

# Start Ollama in the background and pull the model
RUN ollama serve & \
    sleep 5 && \
    ollama pull gemma2:2b && \
    pkill ollama

# The model is now cached in the image
# Ollama will start normally when the container runs